# 与AI探讨过程中出现的一些问题（必须二次验证）

## 多用户场景，混合预编码结构下的责任划分

### 传统MIMO+混合预编码

模拟域、数字域的耦合特性：数字域的优化完全依赖于模拟域构造出来的低维等效信道，如果模拟域单纯以角度对齐、用户接收信号强度为目标，则当用户波束相近时，很可能产生出干扰强、正交性低的低维等效信道，此时数字域无论如何优化，总体的性能总不是最优的。所以模拟域的优化目标包括接收信号强度和正交性，而正交性又需要反过来根据数字域的设计来调整。一种简化问题的方法是对用户进行聚类、调度，将正交任务从预编码技术中剥离出去。

### RIS系统+混合预编码

**问：** 在RIS系统中，BS端模拟域的正交任务转移到了RIS相移设置中，是吗？这里需要论文证明
由于多用户之间的波束正交需求，混合预编码+RIS的联合优化任务会变得非常困难。在这种系统下，首先由于RIS的引入，信道自由度大大增加，测量任务量剧增，此外由于RIS的无源特性，也很难单独测量出独立的两段信道，而级联信道又包含了RIS相位这个中间变量，所以不管是模拟域还是数字域，信道信息缺失几乎是必然的现象，这时要保证波束的正交性的同时找到性能最优方案，是非常复杂的。

因此，我认为在研究第一阶段，应当模仿《Deep Reinforcement Learning Based Beamforming  Codebook Design for RIS-aided mmWave Systems》中通过用户聚类/调度来避免正交任务的设置，简化问题。
**问：** 但是问题在于，如果你通过用户聚类避免了物理信道耦合问题，那么数字预编码的必要性还存在吗？你和这篇文章的区别在哪里呢？
答： 数字预编码相比模拟预编码具有更大的灵活性、多用户支持能力和与RIS协同优化的潜力，因此性能应当更优。

所以之前的文章都是对数字预编码器进行优化，我算是理解为什么了。
**问：** 在RIS系统中进行基于码本的波束训练时，是否码本元素为RIS相移，而不包括BS预编码呢？
答：是的，波束训练过程中，需要设计的码本就是RIS相移元素，并不包括BS预编码。需要注意，级联信道是由RIS决定的，是BS-RIS-UE这一连串信道，不包括BS预编码，BS端预编码的目的是对齐这个级联信道。参考《Deep Reinforcement Learning Based Beamforming  Codebook Design for RIS-aided mmWave Systems》（6）（7）.

## 混合预编码+波束训练下的两种CSI估计模型及预计的误差模型

在波束扫描时可以直接根据接收信号强度（RSS）获得模拟域的波束角度信息，而信道CSI元素是设计数字域预编码器的必需信息，对此估计分为两种方式。

- 信道误差模型用于强化学习环境构建，智能体输入信息可以为RSS处理信息，使其隐形学习信道误差。
- 用户聚类方法是为了保证模拟域上能组成正交性较强的波束空间，将模拟域的任务简化为角度对齐，降低数字域、模拟域的耦合性。

### 粗精度估计

《Beam Training and Allocation for Multiuser  Millimeter Wave Massive MIMO Systems》中（16）式，RSS数值直接作为估计的H元素值。

### 模型参数精细估计

《Hybrid Driven Learning Aided Beam Tracking in  Air-to-Ground MIMO-OFDM Communications》（17）式中，基于接收信号、模拟域beamforming向量，通过LS估计计算出路径增益系数，即将毫米波模型分成增益系数、角度两个变量来估计，最后根据模型组成CSI。

### 波束训练的误差模型

波束训练的理论基础是毫米波系统的稀疏信道模型，结合现有文献及个人理解，可以利用以下的误差模型建立：

- 《A Multi-User High Accuracy Beam Training  Algorithm For MmWave Communication》（7）中，提及波束失配问题，表示未选择到最优波束的问题，使用 **？这个还不是很明确**
- 由于码本离散特性，选择的最优波束和实际角度之间很可能存在差距，目前《Reinforcement Learning of Beam Codebooks in  Millimeter Wave and Terahertz MIMO Systems》（4）中将这种误差建模成steering向量中的相位误差，并 **假设（？）** 其服从高斯分布
**问：** 似乎上述角度域的误差都是基于无RIS系统的，但是我们现在确定只考虑RIS的相移和BS的数字域预编码器，这时角度域的误差在RIS系统下还如上述表示方式吗？
- 现有的

## 低精度ADC在波束训练中的影响

先**假设问题**，再查阅论文进行验证
没有查阅到低精度ADC下的波束训练论文。

- 在传统的波-扫（Beam Sweeping）训练中，我们通过计算接收信号与本地波束码本的相关性来找到最佳波束。高精度ADC能分辨出相关峰值的细微差异，找到唯一的“尖锐”峰值。而低精度ADC（特别是1-bit ADC，只剩符号）会导致计算出的相关性只有几个离散值。这会使得原本尖锐的峰值变得宽阔而平坦，多个相邻的波束可能呈现出完全相同的最大相关值。系统无法唯一确定哪个是最佳波束，导致波束对准的模糊性大大增加。那么角度域的误差将会大大增加。
- 为了对抗巨大的量化噪声，一种方法是增加训练序列的长度，通过长时间的测量来平均掉噪声，从而重新获得一定的估计精度。另一种方法是干脆放弃高精度对准，直接使用角度间隔非常大的粗糙码本，只要波束能“大概”对上就行。前者导致训练开销和时延急剧增加，不适用于需要快速切换的场景。后者则从源头上牺牲了波束成形的潜在增益。
- 对低信噪比（SNR）场景极其脆弱。

## RIS+波束训练

首先，
